
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>API Reference &#8212; ratingcurve</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Troubleshooting" href="meta/troubleshooting.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="meta/intro.html">
  
  
  
  
  
  
    <p class="title logo__title">ratingcurve</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="meta/intro.html">
                    Motivation
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="meta/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/getting-started-tutorial.html">Getting Started</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="meta/tutorials.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/segmented-power-law-tutorial.html">Segmented Power Law</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/spline-tutorial.html">Natural Splines</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/model-selection-tutorial.html">Model selection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="meta/background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta/implementation.html">Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">API Reference</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/thodson-usgs/ratingcurve" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/thodson-usgs/ratingcurve/issues/new?title=Issue%20on%20page%20%2Fapi.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/api.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>API Reference</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.fit"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.get_default_sampler_config"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.get_default_sampler_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.load"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.load()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.output_var"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.output_var</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.predict_posterior"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.predict_posterior()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.residuals"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.residuals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_model"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_posterior_predictive"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_posterior_predictive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_prior_predictive"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_prior_predictive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.table"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.table()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating"><code class="docutils literal notranslate"><span class="pre">PowerLawRating</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.build_model"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.build_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.get_default_model_config"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.get_default_model_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.set_normal_prior"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.set_normal_prior()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.set_uniform_prior"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.set_uniform_prior()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating"><code class="docutils literal notranslate"><span class="pre">SplineRating</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating.build_model"><code class="docutils literal notranslate"><span class="pre">SplineRating.build_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating.get_default_model_config"><code class="docutils literal notranslate"><span class="pre">SplineRating.get_default_model_config()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin"><code class="docutils literal notranslate"><span class="pre">PlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot_gagings"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot_gagings()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot_residuals"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot_residuals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.setup_plot"><code class="docutils literal notranslate"><span class="pre">PlotMixin.setup_plot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin.plot_residuals"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin.plot_residuals()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.RatingMixin"><code class="docutils literal notranslate"><span class="pre">RatingMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.RatingMixin.summary"><code class="docutils literal notranslate"><span class="pre">RatingMixin.summary()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.SplinePlotMixin"><code class="docutils literal notranslate"><span class="pre">SplinePlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.SplinePlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">SplinePlotMixin.plot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.is_fit"><code class="docutils literal notranslate"><span class="pre">is_fit()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Dmatrix"><code class="docutils literal notranslate"><span class="pre">Dmatrix</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Dmatrix.transform"><code class="docutils literal notranslate"><span class="pre">Dmatrix.transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform"><code class="docutils literal notranslate"><span class="pre">LogZTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform.transform"><code class="docutils literal notranslate"><span class="pre">LogZTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform.untransform"><code class="docutils literal notranslate"><span class="pre">LogZTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Transform"><code class="docutils literal notranslate"><span class="pre">Transform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Transform.transform"><code class="docutils literal notranslate"><span class="pre">Transform.transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform"><code class="docutils literal notranslate"><span class="pre">UnitTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform.transform"><code class="docutils literal notranslate"><span class="pre">UnitTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform.untransform"><code class="docutils literal notranslate"><span class="pre">UnitTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform"><code class="docutils literal notranslate"><span class="pre">ZTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform.transform"><code class="docutils literal notranslate"><span class="pre">ZTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform.untransform"><code class="docutils literal notranslate"><span class="pre">ZTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.compute_knots"><code class="docutils literal notranslate"><span class="pre">compute_knots()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.describe"><code class="docutils literal notranslate"><span class="pre">describe()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.list"><code class="docutils literal notranslate"><span class="pre">list()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.load"><code class="docutils literal notranslate"><span class="pre">load()</span></code></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-ratingcurve.ratingmodel_builder">
<span id="api-reference"></span><h1>API Reference<a class="headerlink" href="#module-ratingcurve.ratingmodel_builder" title="Link to this heading">#</a></h1>
<p>Modifies PyMC ModelBuilder to work with the Rating model class</p>
<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.ratingmodel_builder.</span></span><span class="sig-name descname"><span class="pre">RatingModelBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder" title="Link to this definition">#</a></dt>
<dd><p>Parent class for other rating models.</p>
<p>Sets not implemented PyMC ModelBuilder class functions. Additionally,
tweaks other ModelBuilder functions for better application in rating curve
fitting.</p>
<p>Update <cite>ModelBuilder.__init__</cite> to only configure the model.</p>
<p>Configuring the sampler now occurs in the <cite>.fit()</cite> call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments to pass to the model configuration.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'advi'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progressbar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RandomState</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">InferenceData</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.fit" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.fit</cite> to accept q_sigma.</p>
<p>ModelBuilder takes two inputs: x and y, so redefine it to accept sigma.
Fit a model using the data and algorithm passed as a parameter.
Sets attrs to inference data of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>array_like</em>) – Input training array of gage height (h) observations.</p></li>
<li><p><strong>q</strong> (<em>array_like</em>) – Target discharge (q) values.</p></li>
<li><p><strong>q_sigma</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Discharge uncertainty in units of discharge.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The method (algorithm) used to fit the data, options are ‘advi’
or ‘nuts’.</p></li>
<li><p><strong>progressbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether the fit progressbar should be displayed.</p></li>
<li><p><strong>random_seed</strong> (<em>RandomState</em><em>, </em><em>optional</em>) – Provides sampler with initial random seed for obtaining
reproducible samples.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Algorithm settings can be provided in form of keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – Arviz InferenceData object containing posterior samples of model
parameters of the fitted model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>InferenceData</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.get_default_sampler_config">
<span class="sig-name descname"><span class="pre">get_default_sampler_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel_tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.002</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">adam_learn_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">draws</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tune</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chains</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_accept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.get_default_sampler_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.get_default_sampler_config" title="Link to this definition">#</a></dt>
<dd><p>Create sampler configuration dictionary.</p>
<p>Generates a <cite>sampler_config</cite> dictionary with all the required
sampler configuration parameters needed to sample/fit the model. It
will be passed to the class instance when fitting. Any sampler
parameters not specified to the <cite>.fit()</cite> call, will be set to the
defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – The number of iterations. (Only used in ADVI algorithm.)</p></li>
<li><p><strong>abs_tol</strong> (<em>float</em>) – Convergence criterion for algorithm. Termination of fitting
occurs when the absolute tolerance between two consecutive
iterates is at most <cite>abs_tol</cite>. (Only used in ADVI algorithm.)</p></li>
<li><p><strong>rel_tol</strong> (<em>float</em>) – Convergence criterion for algorithm. Termination of fitting
occurs when the relative tolerance between two consecutive
iterates is at most <cite>rel_tol</cite>. (Only used in ADVI algorithm.)</p></li>
<li><p><strong>adam_learn_rate</strong> (<em>float</em>) – The learning rate for the ADAM Optimizer. (Only used in ADVI
algorithm.)</p></li>
<li><p><strong>draws</strong> (<em>int</em>) – The number of samples to draw. (Used in both algorithms.)</p></li>
<li><p><strong>tune</strong> (<em>int</em>) – Number of iterations to tune. Samplers adjust the step sizes,
scalings or similar during tuning. Tuning samples are discarded.
(Only used in NUTS algorithm.)</p></li>
<li><p><strong>chains</strong> (<em>int</em>) – The number of chains to sample. (Only used in NUTS algorithm.)</p></li>
<li><p><strong>target_accept</strong> (<em>float</em>) – The step size is tuned such that we approximate this acceptance
rate. (Only used in NUTS algorithm.)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sampler_config</strong> – A dictionary containing all the required sampler configuration
parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.load" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.load()</cite> to accept q_sigma.</p>
<p>ModelBuilder takes two inputs: x and y, so redefine it to accept sigma.
Creates a ModelBuilder instance from a file and loads inference data
for the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fname</strong> (<em>str</em>) – File name with path to saved model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of ModelBuilder.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.output_var">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_var</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.output_var" title="Link to this definition">#</a></dt>
<dd><p>Name of the output of dependent variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.predict_posterior">
<span class="sig-name descname"><span class="pre">predict_posterior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_idata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.predict_posterior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.predict_posterior" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.predict_posterior</cite> to remove data validation.</p>
<p>Generate posterior predictive samples on unseen data. Exclude any
data validation as it requires X_pred to be a 2D array-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_pred</strong> (<em>array_like</em>) – The input data used for prediction.</p></li>
<li><p><strong>extend_idata</strong> (<em>bool</em><em>, </em><em>optional</em>) – Determines whether the predictions should be added to inference
data object. Defaults to True.</p></li>
<li><p><strong>combined</strong> (<em>bool</em><em>, </em><em>optional</em>) – Combine chain and draw dims into sample. Won’t work if a dim
named sample already exists. Defaults to True.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional arguments to pass to <cite>pymc.sample_posterior_predictive</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>y_pred</strong> – Posterior predictive samples for each input X_pred. Shape of array
is (n_pred, chains * draws) if combined is True, otherwise
(chains, draws, n_pred).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.residuals">
<span class="sig-name descname"><span class="pre">residuals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.residuals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.residuals" title="Link to this definition">#</a></dt>
<dd><p>Compute residuals of rating model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>residuals</strong> – Log residuals of rating model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_model">
<span class="sig-name descname"><span class="pre">sample_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">InferenceData</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.sample_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_model" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.sample_model</cite> with other fitting algorithms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments to pass to the PyMC sampler.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> – Arviz InferenceData object containing posterior samples of model
parameters of the fitted model.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>InferenceData</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_posterior_predictive">
<span class="sig-name descname"><span class="pre">sample_posterior_predictive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_idata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.sample_posterior_predictive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_posterior_predictive" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.sample_posterior_predicitve</cite> to output untransformed q.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_prior_predictive">
<span class="sig-name descname"><span class="pre">sample_prior_predictive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend_idata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.sample_prior_predictive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_prior_predictive" title="Link to this definition">#</a></dt>
<dd><p>Update <cite>ModelBuilder.sample_prior_predicitve</cite> to output untransformed q.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratingmodel_builder.RatingModelBuilder.table">
<span class="sig-name descname"><span class="pre">table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extend</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pd.DataFrame</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratingmodel_builder.html#RatingModelBuilder.table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.table" title="Link to this definition">#</a></dt>
<dd><p>Return stage-discharge rating table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Stage values to compute rating table. If None, then use the
range of observations.</p></li>
<li><p><strong>step</strong> (<em>float</em><em>, </em><em>optional</em>) – Step size for stage values.</p></li>
<li><p><strong>extend</strong> (<em>float</em><em>, </em><em>optional</em>) – Extend range of discharge values by this factor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>rating_table</strong> – Rating table with columns <cite>stage</cite>, mean <cite>discharge</cite>, <cite>median</cite>
discharge, and <cite>gse</cite> (geometric standard error [1]).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
<p class="rubric">References</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Kirkwood, T. B., “Geometric means and measures of dispersion”,
Biometrics, vol. 35, pp. 908-909, 1979</p>
</aside>
</aside>
</dd></dl>

</dd></dl>

<p id="module-ratingcurve.ratings">Streamflow rating models using PyMC.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.ratings.PowerLawRating">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.ratings.</span></span><span class="sig-name descname"><span class="pre">PowerLawRating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#PowerLawRating"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.PowerLawRating" title="Link to this definition">#</a></dt>
<dd><p>Multi-segment power law rating using Heaviside parameterization.</p>
<p>Update <cite>ModelBuilder.__init__</cite> to only configure the model.</p>
<p>Configuring the sampler now occurs in the <cite>.fit()</cite> call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments to pass to the model configuration.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.PowerLawRating.build_model">
<span class="sig-name descname"><span class="pre">build_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#PowerLawRating.build_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.PowerLawRating.build_model" title="Link to this definition">#</a></dt>
<dd><p>Creates the PyMC model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>array_like</em>) – Input array of gage height (h) observations.</p></li>
<li><p><strong>q</strong> (<em>array_like</em>) – Input array of discharge (q) observations.</p></li>
<li><p><strong>q_sigma</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Input array of discharge uncertainty in units of discharge.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.PowerLawRating.get_default_model_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_model_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prior</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'distribution':</span> <span class="pre">'uniform'}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratings.html#PowerLawRating.get_default_model_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.PowerLawRating.get_default_model_config" title="Link to this definition">#</a></dt>
<dd><p>Create model configuration dictionary.</p>
<p>Generate a <cite>model_config</cite> dictionary with all the required model
configuration parameters needed to build the model. It will be passed
to the class instance on initialization, in case the user doesn’t
provide any model configuration settings of their own.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>segments</strong> (<em>int</em>) – Number of segments in the rating.</p></li>
<li><p><strong>prior</strong> (<em>dict</em>) – <p>Prior knowledge of breakpoint locations. Must contain the key
<cite>distribution</cite>, which can either be set to a <cite>‘uniform’</cite> or
<cite>‘normal’</cite> distribution. If a normal distribution, then the
mean <cite>mu</cite> and width <cite>sigma</cite> must be given as well.</p>
<p>Examples:
(with any segment value)
<code class="docutils literal notranslate"><span class="pre">prior</span> <span class="pre">=</span> <span class="pre">{'distribution':</span> <span class="pre">'uniform'}</span></code>
or (with <cite>segments = 2</cite>)
<a href="#id2"><span class="problematic" id="id3">``</span></a>prior = {‘distribution’: ‘normal’, ‘mu’: [1, 2],</p>
<blockquote>
<div><p>’sigma’:[1, 1]}``</p>
</div></blockquote>
<p>or (with <cite>segments = 4</cite>)
<a href="#id4"><span class="problematic" id="id5">``</span></a>prior = {‘distribution’: ‘normal’, ‘mu’: [1, 2, 5, 9],</p>
<blockquote>
<div><p>’sigma’:[1, 1, 1, 1]}``</p>
</div></blockquote>
<p>Note that the number of normal distribution means and widths
must be the same as the number of segments. Additionally, the
first mean must be less than the lowest observed stage as it
defines the stage of zero flow.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>model_config</strong> – A dictionary containing all the required model configuration
parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.PowerLawRating.set_normal_prior">
<span class="sig-name descname"><span class="pre">set_normal_prior</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#PowerLawRating.set_normal_prior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.PowerLawRating.set_normal_prior" title="Link to this definition">#</a></dt>
<dd><p>Set normal prior for breakpoints.</p>
<p>Sets an expected value for each breakpoint (mu) with uncertainty
(sigma). This can be very helpful when convergence is poor.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mu</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sigma</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prior</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;distribution&#39;</span><span class="p">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="s1">&#39;mu&#39;</span><span class="p">:</span> <span class="n">mu</span><span class="p">,</span> <span class="s1">&#39;sigma&#39;</span><span class="p">:</span> <span class="n">sigma</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.PowerLawRating.set_uniform_prior">
<span class="sig-name descname"><span class="pre">set_uniform_prior</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#PowerLawRating.set_uniform_prior"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.PowerLawRating.set_uniform_prior" title="Link to this definition">#</a></dt>
<dd><p>Set uniform prior for breakpoints.</p>
<p>Make no prior assumption about the location of the breakpoints, only
the number of breaks and that the breakpoints are ordered.</p>
<p>prior={distribution:’uniform’, initval: []}</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.ratings.SplineRating">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.ratings.</span></span><span class="sig-name descname"><span class="pre">SplineRating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#SplineRating"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.SplineRating" title="Link to this definition">#</a></dt>
<dd><p>Natural spline rating.</p>
<p>Update <cite>ModelBuilder.__init__</cite> to only configure the model.</p>
<p>Configuring the sampler now occurs in the <cite>.fit()</cite> call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dict</em>) – Keyword arguments to pass to the model configuration.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.SplineRating.build_model">
<span class="sig-name descname"><span class="pre">build_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/ratings.html#SplineRating.build_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.SplineRating.build_model" title="Link to this definition">#</a></dt>
<dd><p>Creates the PyMC model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h</strong> (<em>array_like</em>) – Input array of gage height (h) observations.</p></li>
<li><p><strong>q</strong> (<em>array_like</em>) – Input array of discharge (q) observations.</p></li>
<li><p><strong>q_sigma</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Input array of discharge uncertainty in units of discharge.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.ratings.SplineRating.get_default_model_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_model_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/ratingcurve/ratings.html#SplineRating.get_default_model_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.ratings.SplineRating.get_default_model_config" title="Link to this definition">#</a></dt>
<dd><p>Create model configuration dictionary.</p>
<p>Generate a <cite>model_config</cite> dictionary with all the required model
configuration parameters needed to build the model. It will be passed
to the class instance on initialization, in case the user doesn’t
provide any model configuration settings of their own.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean</strong> (<em>float</em>) – Mean of the normal prior for the spline coefficients.</p></li>
<li><p><strong>sd</strong> (<em>float</em>) – Standard deviation of the normal prior for the spline coefficients.</p></li>
<li><p><strong>df</strong> (<em>int</em>) – Degrees of freedom for the spline coefficients.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>model_config</strong> – A dictionary containing all the required model configuration
parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p id="module-ratingcurve.plot">Plotting functions</p>
<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.plot.PlotMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.plot.</span></span><span class="sig-name descname"><span class="pre">PlotMixin</span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PlotMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PlotMixin" title="Link to this definition">#</a></dt>
<dd><p>Mixin class for plotting rating models.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PlotMixin.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PlotMixin.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PlotMixin.plot" title="Link to this definition">#</a></dt>
<dd><p>Plots gagings and fit rating curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PlotMixin.plot_gagings">
<span class="sig-name descname"><span class="pre">plot_gagings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PlotMixin.plot_gagings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PlotMixin.plot_gagings" title="Link to this definition">#</a></dt>
<dd><p>Plot gagings with uncertainty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PlotMixin.plot_residuals">
<span class="sig-name descname"><span class="pre">plot_residuals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PlotMixin.plot_residuals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PlotMixin.plot_residuals" title="Link to this definition">#</a></dt>
<dd><p>Plots residuals between model and data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PlotMixin.setup_plot">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">setup_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/plot.html#PlotMixin.setup_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PlotMixin.setup_plot" title="Link to this definition">#</a></dt>
<dd><p>Sets up figure and axes for rating curve plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ax</strong> – Generated matplotlib axes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Axes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.plot.PowerLawPlotMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.plot.</span></span><span class="sig-name descname"><span class="pre">PowerLawPlotMixin</span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PowerLawPlotMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PowerLawPlotMixin" title="Link to this definition">#</a></dt>
<dd><p>Mixin class for plotting power law rating models.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PowerLawPlotMixin.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PowerLawPlotMixin.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PowerLawPlotMixin.plot" title="Link to this definition">#</a></dt>
<dd><p>Plots power-law rating curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.PowerLawPlotMixin.plot_residuals">
<span class="sig-name descname"><span class="pre">plot_residuals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#PowerLawPlotMixin.plot_residuals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.PowerLawPlotMixin.plot_residuals" title="Link to this definition">#</a></dt>
<dd><p>Plots power-law residuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.plot.RatingMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.plot.</span></span><span class="sig-name descname"><span class="pre">RatingMixin</span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#RatingMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.RatingMixin" title="Link to this definition">#</a></dt>
<dd><p>Parent class for other rating-related mixins.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.RatingMixin.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#RatingMixin.summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.RatingMixin.summary" title="Link to this definition">#</a></dt>
<dd><p>Summary of rating model parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>var_names</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – List of variables to include in summary. If no names are given,
then a summary of all variables is returned.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df</strong> – DataFrame summary of rating model parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.plot.SplinePlotMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.plot.</span></span><span class="sig-name descname"><span class="pre">SplinePlotMixin</span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#SplinePlotMixin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.SplinePlotMixin" title="Link to this definition">#</a></dt>
<dd><p>Mixin class for plotting spline rating models.</p>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.plot.SplinePlotMixin.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Axes</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/ratingcurve/plot.html#SplinePlotMixin.plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.SplinePlotMixin.plot" title="Link to this definition">#</a></dt>
<dd><p>Plots spline rating curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>Axes</em><em>, </em><em>optional</em>) – Pre-defined matplotlib axes.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ratingcurve.plot.is_fit">
<span class="sig-prename descclassname"><span class="pre">ratingcurve.plot.</span></span><span class="sig-name descname"><span class="pre">is_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/plot.html#is_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.plot.is_fit" title="Link to this definition">#</a></dt>
<dd><p>Decorator checks whether model has been fit.</p>
</dd></dl>

<p id="module-ratingcurve.transform">Data transformations to improve optimization</p>
<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.transform.Dmatrix">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">Dmatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cr'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/transform.html#Dmatrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.Dmatrix" title="Link to this definition">#</a></dt>
<dd><p>Transform for spline design matrix</p>
<p>Create a Dmatrix object.</p>
<p>Create a design matrix for a natural cubic spline, which is a cubic
spline that is additionally constrained to be linear at the boundaries.
Due to this constraint, the total degrees of freedom equals the number
of knots minus 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>array_like</em>) – Stage data</p></li>
<li><p><strong>df</strong> (<em>int</em>) – Degrees of freedom</p></li>
<li><p><strong>form</strong> (<em>str</em>) – Spline form</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.Dmatrix.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#Dmatrix.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.Dmatrix.transform" title="Link to this definition">#</a></dt>
<dd><p>Transform stage using spline design matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stage</strong> (<em>array-like</em>) – Stage data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.transform.LogZTransform">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">LogZTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/transform.html#LogZTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.LogZTransform" title="Link to this definition">#</a></dt>
<dd><p>Log transform then takes z-score.</p>
<p>Create a LogZTransform for x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data that defines the transform.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.LogZTransform.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#LogZTransform.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.LogZTransform.transform" title="Link to this definition">#</a></dt>
<dd><p>Transform to log z-score</p>
<p>Logs the data then standardizes to zero mean and unit variance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data to be transformed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>log transform data standardized to zero mean and unit variance (log z-score)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.LogZTransform.untransform">
<span class="sig-name descname"><span class="pre">untransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#LogZTransform.untransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.LogZTransform.untransform" title="Link to this definition">#</a></dt>
<dd><p>Reverse log z-score transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<em>array_like</em>) – Transformed data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>log z-scores transformed back to original units.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.transform.Transform">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">Transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/transform.html#Transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.Transform" title="Link to this definition">#</a></dt>
<dd><p>Transformation class</p>
<p>All children of Transform must have transfom and untransform methods</p>
<p>Create empty Transform object</p>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.Transform.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#Transform.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.Transform.transform" title="Link to this definition">#</a></dt>
<dd><p>Transform data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data to be transformed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Transformed data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.transform.UnitTransform">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">UnitTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/transform.html#UnitTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.UnitTransform" title="Link to this definition">#</a></dt>
<dd><p>Transforms data to the unit (0 to 1) interval.</p>
<p>Create UnitTransform of array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data that defines the transform.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.UnitTransform.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#UnitTransform.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.UnitTransform.transform" title="Link to this definition">#</a></dt>
<dd><p>Transform to unit interval</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data to be transformed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Original data transformed to unit interval</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.UnitTransform.untransform">
<span class="sig-name descname"><span class="pre">untransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#UnitTransform.untransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.UnitTransform.untransform" title="Link to this definition">#</a></dt>
<dd><p>Transform from unit interval back to original units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<em>array_like</em>) – Transformed data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Unit interval transformed back to original units.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="ratingcurve.transform.ZTransform">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">ZTransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ratingcurve/transform.html#ZTransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.ZTransform" title="Link to this definition">#</a></dt>
<dd><p>Z-transforms data to have zero mean and unit variance</p>
<p>Create a ZTransform object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data that defines the transform.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.ZTransform.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#ZTransform.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.ZTransform.transform" title="Link to this definition">#</a></dt>
<dd><p>Transform to z score (standardize x)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>array_like</em>) – Data to be transformed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>original data standardized to zero mean and unit variance (z-score)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="ratingcurve.transform.ZTransform.untransform">
<span class="sig-name descname"><span class="pre">untransform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ArrayLike</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#ZTransform.untransform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.ZTransform.untransform" title="Link to this definition">#</a></dt>
<dd><p>Transform from z score back to original units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<em>array_like</em>) – Transformed data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>z-scores transformed back to original units.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ratingcurve.transform.compute_knots">
<span class="sig-prename descclassname"><span class="pre">ratingcurve.transform.</span></span><span class="sig-name descname"><span class="pre">compute_knots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maximum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ArrayLike</span></span></span><a class="reference internal" href="_modules/ratingcurve/transform.html#compute_knots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.transform.compute_knots" title="Link to this definition">#</a></dt>
<dd><p>Return list of spline knots</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimum</strong> (<em>float</em>) – Minimum and maximum stage (h) observations.</p></li>
<li><p><strong>maximum</strong> (<em>float</em>) – Minimum and maximum stage (h) observations.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of knots.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of spline knots.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ArrayLike</p>
</dd>
</dl>
</dd></dl>

<p id="module-ratingcurve.data">Example datasets for rating curve analysis.</p>
<dl class="py function">
<dt class="sig sig-object py" id="ratingcurve.data.describe">
<span class="sig-prename descclassname"><span class="pre">ratingcurve.data.</span></span><span class="sig-name descname"><span class="pre">describe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/ratingcurve/data.html#describe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.data.describe" title="Link to this definition">#</a></dt>
<dd><p>Describes a tutorial dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Name of the dataset.
e.g., ‘green channel’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Description of the dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ratingcurve.data.list">
<span class="sig-prename descclassname"><span class="pre">ratingcurve.data.</span></span><span class="sig-name descname"><span class="pre">list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="_modules/ratingcurve/data.html#list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.data.list" title="Link to this definition">#</a></dt>
<dd><p>Returns a list of tutorial datasets</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of tutorial datasets</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ratingcurve.data.load">
<span class="sig-prename descclassname"><span class="pre">ratingcurve.data.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="_modules/ratingcurve/data.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ratingcurve.data.load" title="Link to this definition">#</a></dt>
<dd><p>Opens a tutorial dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the dataset.
e.g., ‘green channel’</p></li>
<li><p><strong>Returns</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="meta/troubleshooting.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Troubleshooting</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.fit"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.fit()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.get_default_sampler_config"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.get_default_sampler_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.load"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.load()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.output_var"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.output_var</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.predict_posterior"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.predict_posterior()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.residuals"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.residuals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_model"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_posterior_predictive"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_posterior_predictive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.sample_prior_predictive"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.sample_prior_predictive()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratingmodel_builder.RatingModelBuilder.table"><code class="docutils literal notranslate"><span class="pre">RatingModelBuilder.table()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating"><code class="docutils literal notranslate"><span class="pre">PowerLawRating</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.build_model"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.build_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.get_default_model_config"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.get_default_model_config()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.set_normal_prior"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.set_normal_prior()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.PowerLawRating.set_uniform_prior"><code class="docutils literal notranslate"><span class="pre">PowerLawRating.set_uniform_prior()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating"><code class="docutils literal notranslate"><span class="pre">SplineRating</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating.build_model"><code class="docutils literal notranslate"><span class="pre">SplineRating.build_model()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.ratings.SplineRating.get_default_model_config"><code class="docutils literal notranslate"><span class="pre">SplineRating.get_default_model_config()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin"><code class="docutils literal notranslate"><span class="pre">PlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot_gagings"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot_gagings()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.plot_residuals"><code class="docutils literal notranslate"><span class="pre">PlotMixin.plot_residuals()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PlotMixin.setup_plot"><code class="docutils literal notranslate"><span class="pre">PlotMixin.setup_plot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin.plot()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.PowerLawPlotMixin.plot_residuals"><code class="docutils literal notranslate"><span class="pre">PowerLawPlotMixin.plot_residuals()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.RatingMixin"><code class="docutils literal notranslate"><span class="pre">RatingMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.RatingMixin.summary"><code class="docutils literal notranslate"><span class="pre">RatingMixin.summary()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.SplinePlotMixin"><code class="docutils literal notranslate"><span class="pre">SplinePlotMixin</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.SplinePlotMixin.plot"><code class="docutils literal notranslate"><span class="pre">SplinePlotMixin.plot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.plot.is_fit"><code class="docutils literal notranslate"><span class="pre">is_fit()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Dmatrix"><code class="docutils literal notranslate"><span class="pre">Dmatrix</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Dmatrix.transform"><code class="docutils literal notranslate"><span class="pre">Dmatrix.transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform"><code class="docutils literal notranslate"><span class="pre">LogZTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform.transform"><code class="docutils literal notranslate"><span class="pre">LogZTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.LogZTransform.untransform"><code class="docutils literal notranslate"><span class="pre">LogZTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Transform"><code class="docutils literal notranslate"><span class="pre">Transform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.Transform.transform"><code class="docutils literal notranslate"><span class="pre">Transform.transform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform"><code class="docutils literal notranslate"><span class="pre">UnitTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform.transform"><code class="docutils literal notranslate"><span class="pre">UnitTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.UnitTransform.untransform"><code class="docutils literal notranslate"><span class="pre">UnitTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform"><code class="docutils literal notranslate"><span class="pre">ZTransform</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform.transform"><code class="docutils literal notranslate"><span class="pre">ZTransform.transform()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.ZTransform.untransform"><code class="docutils literal notranslate"><span class="pre">ZTransform.untransform()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.transform.compute_knots"><code class="docutils literal notranslate"><span class="pre">compute_knots()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.describe"><code class="docutils literal notranslate"><span class="pre">describe()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.list"><code class="docutils literal notranslate"><span class="pre">list()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ratingcurve.data.load"><code class="docutils literal notranslate"><span class="pre">load()</span></code></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Timothy Hodson
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright CC0.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>